YUI.add("group-info-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-groups-getInfo"].run(t,this.appContext)},join:function(t,n){return e.ModelCreators["flickr-groups-join"].run(t,n)},leave:function(t,n){return e.ModelDeletors["flickr-groups-leave"].run(t,n)}},join:function(e){var t=this.getValue(e,"group");return t&&t.setValue("isMember",!0),this},leave:function(e){var t=this.getValue(e,"group");return t&&(t.setValue("isAdmin",!1),t.setValue("isModerator",!1),t.setValue("isMember",!1),this.setValue(e,"hasPendingInvite",!1)),this},attributes:{pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},description:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},secureDescription:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},rules:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},roles:{},secureRules:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},hasPendingInvite:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},discussionsLocked:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},privacy:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:1},restrictions:{},throttle:{},poolPreviewRowsVisibleCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 1}},coverPhotoAttribution:{},group:{isModel:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-getInfo-fetcher","flickr-groups-join-creator","flickr-groups-leave-deletor","attribute-helpers","group-models"]});
YUI.add("flickr-groups-getInfo-fetcher",function(e,t){"use strict";function n(t){var n={extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras()+", blast_user_info, date_last_viewed, has_pending_invite, coverphoto_attribution, is_locked",secure_image_embeds:1,lang:undefined};if(t.id)n.group_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-groups-getInfo-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return n}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a,f,l,c;return l=s.parseGroupModel(n.id,n.pathAlias,r.group),s.exists(l.id)||s.add(l),f={id:l.id,viewedPool:e.moment(r.group.viewedDates?r.group.viewedDates.pool:undefined),viewedDiscussions:e.moment(r.group.viewedDates?r.group.viewedDates.discussions:undefined),group:s.proxy(l.id)},u.exists(f.id)||u.add(f),l=s.proxy(l.id),c={id:l.id,blastMessage:r.group.blast?r.group.blast.content:"",blastMessageSecure:r.group.blast?r.group.secureBlast.content:"",blastUserId:r.group.blast?r.group.blast.userId:"",blastDateAdded:r.group.blast?e.moment(r.group.blast.dateBlastAdded,"X"):e.moment(),blastUserName:r.group.blast?r.group.blast.userName:"",blastPathAlias:r.group.blast?r.group.blast.userPathAlias:"",blastRealName:r.group.blast?r.group.blast.realName:"",blastUserStatus:r.group.blast?r.group.blast.userStatus:""},o.exists(l.id)||o.add(c),a={id:r.group.id,pathAlias:r.group.pathAlias||n.pathAlias,description:r.group.description.content,secureDescription:r.group.secureDescription?r.group.secureDescription.content:"",rules:r.group.rules.content,roles:r.group.roles,secureRules:r.group.secureRules.content,restrictions:r.group.restrictions,throttle:r.group.throttle,poolPreviewRowsVisibleCount:r.group.pool_rows,group:l,discussionsLocked:r.group.isLocked==="1",hasPendingInvite:r.group.has_pending_invite,coverPhotoAttribution:r.group.coverphoto},i.exists(a.id)||i.add(a),i.proxy(a.id)}function i(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.getInfo",this._processParams(n),!0),r.getModelRegistry("group-info-models"),r.getModelRegistry("group-models"),r.getModelRegistry("group-blast-models"),r.getModelRegistry("group-activity-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-getInfo"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["group-info-models","group-models"]});
YUI.add("group-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,parseGroupModel:function(t,n,r){var i={id:r.id||t||r.nsid,pathAlias:r.pathAlias||n||r.pathalias,title:r.title,invitationOnly:r.invitationOnly,memberCount:r.memberCount,poolCount:r.photos,poolPreviewRowsVisibleCount:r.pool_rows,topicCount:r.topicCount==="string"?r.topicCount:undefined,pendingCount:r.pool_pending_count,memberPendingCount:r.member_pending_count,iconurls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(r.iconurls),isMember:r.is_member||r.member||r.isMember,isModerator:r.is_moderator||r.moderator||r.isModerator,isAdmin:r.is_admin||r.admin||r.isAdmin,eighteenplus:r.eighteenplus,coverPhotoUrls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(r.coverphotoUrl),latestPhotoActivity:e.moment(r.date_activity_detail?r.date_activity_detail.pool:undefined,"X"),latestDiscussionActivity:e.moment(r.date_activity_detail?r.date_activity_detail.discussions:undefined,"X"),showPoolToNonMembers:r.show_pool,showDiscussionToNonMembers:r.show_discussion,needsInterstitial:r.needs_interstitial},s;return typeof r.datecreate=="string"?s=r.datecreate:r.datecreate&&typeof r.datecreate.content=="string"&&(s=r.datecreate.content),s?(s+=" +0700",i.dateCreated=e.moment(s,"YYYY-MM-DD HH:mm:ss Z")):i.dateCreated=new e.moment,!i.title&&r.name&&(i.title=typeof r.name=="string"?r.name:r.name.content),!i.memberCount&&r.members&&(i.memberCount=typeof r.members!="string"?r.members.content:r.members),!i.poolCount&&r.poolCount&&(i.poolCount=typeof r.poolCount!="string"?r.poolCount.content:r.poolCount),i.topicCount||(r.topicCount?i.topicCount=typeof r.topicCount!="string"?r.topicCount.content:r.topicCount:i.topicCount=0),r.privacy&&(parseInt(r.privacy,10)?i.privacy=parseInt(r.privacy,10):r.privacy.content&&(i.privacy=r.privacy.content)),i},getLargestCoverPhotoSize:function(t,n){return e.PhotoModelHelper.getLargestSize(t,n)},attributes:{title:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||undefined},defaultFn:function(e){return e}},isModerator:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},invitationOnly:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isMember:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isAdmin:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},memberCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},poolCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},friendlyPoolCount:{readOnly:!0,derivedBy:["poolCount"],getter:function(t,n){return e.Number.format(this.getValue(n,"poolCount"),{thousandsSeparator:","})}},pendingCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},memberPendingCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},topicCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},groupPoolAddURL:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){return"/groups/"+this.getValue(e,"pathAlias")+"/pool/add/"}},dateCreated:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},defaultFn:function(t){return e.moment()},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},latestPhotoActivity:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},defaultFn:function(t){return e.moment()},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},latestDiscussionActivity:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},defaultFn:function(t){return e.moment()},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},showPoolToNonMembers:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},showDiscussionToNonMembers:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},eighteenplus:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},needsInterstitial:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},privacy:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},iconurls:{},bestIconURL:{readOnly:!0,derivedBy:["iconurls"],defaultFn:function(t){var n=e.URLHelper.getGroupIconURL(this.getValue(t,"iconurls")
);return n?n:undefined}},url:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return"/groups/"+(this.getValue(e,"pathAlias")||e)+"/"}},urlMembersPage:{readOnly:!0,derivedBy:["group","url"],defaultFn:function(e){return this.getValue(e,"url")+"members"}},urlPoolPage:{readOnly:!0,derivedBy:["group","url"],defaultFn:function(e){return this.getValue(e,"url")+"pool"}},urlDiscussionPage:{readOnly:!0,derivedBy:["group","url"],defaultFn:function(e){return this.getValue(e,"url")+"discuss"}},urlPendingMembersPage:{readOnly:!0,derivedBy:["id"],defaultFn:function(e){return"/groups_pending.gne?id="+e}},urlPendingPhotosPage:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){return"/groups/"+this.getValue(e,"pathAlias")+"/admin/pending"}},coverPhotoUrls:{},latestGroupActivity:{readOnly:!0,derivedBy:["latestPhotoActivity","latestDiscussionActivity","dateCreated"],defaultFn:function(t){var n=this.getValue(t,"latestDiscussionActivity"),r=this.getValue(t,"latestPhotoActivity"),i=this.getValue(t,"dateCreated"),s=i;return n.isValid()&&(s=e.moment.min(s,n)),r.isValid()&&(s=e.moment.min(s,r)),s}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","api-helper","url-helper","moment","flickr-groups-getInfo-fetcher","attribute-helpers","photo-model-helper"]});
YUI.add("photo-engagement-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:e.PhotoModelHelper.updateEngagement,"delete":function(t){return e.ModelUpdaters["flickr-favorites-remove"].run(t,this.appContext)}},toggleFave:e.PhotoModelHelper.toggleFave,addAsFave:e.PhotoModelHelper.addAsFave,attributes:{ownerNsid:e.PhotoModelHelper.attributes.ownerNsid,isFaved:e.PhotoModelHelper.attributes.isFaved,faveCount:e.PhotoModelHelper.attributes.faveCount,commentCount:e.PhotoModelHelper.attributes.commentCount,canFave:e.PhotoModelHelper.attributes.canFave,canShare:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},canDownload:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},noteCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return t=e.AttributeHelpers.coerceInteger(t),t<0&&(t=0),t},defaultValue:0},viewCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return t=e.AttributeHelpers.coerceInteger(t),t<0&&(t=0),t},defaultValue:0},isOwner:{readOnly:!0,derivedBy:["owner"],getter:function(e,t){var n=this.appContext.getViewer();return!!n.signedIn&&this.getValue(t,"ownerNsid")===n.nsid}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","photo-model-helper","flickr-photos-getInfo-fetcher","flickr-favorites-add-updater","flickr-favorites-remove-updater","attribute-helpers"]});
YUI.add("flickr-photos-setDates-updater",function(e,t){"use strict";function n(n,r){var i={};return n.fullResponse?(i.photo_ids=n.photoId,i.full_response=1):i.photo_id=n.photoId,n.datePosted&&(i.date_posted=n.datePosted),n.dateTaken&&(i.date_taken=n.dateTaken),n.takenGranularity>=0&&n.takenGranularity<=10&&(i.date_taken_granularity=n.takenGranularity),e.Promise.all([r.callAPI("flickr.photos.setDates",i),r.getModelRegistry("photo-stats-models")]).then(function(e){var t=e[0],i=e[1],s,o={};s=t.errors;if(n.fullResponse){if(s&&t.errors.length>0)return s}else{if(!i.exists(n.photoId))throw new Error("[flickr-photos-setDates-updater] - Photo-stats model can not be updated if it does not exist");(!t.photo||!t.photo.datePosted&&!t.photo.dateTaken)&&r.warn("[flickr-photos-setDates-updater] - No updated data returned from API."),t.photo?(t.photo.datePosted&&(o.datePosted=t.photo.datePosted.content),t.photo.dateTaken&&(o.dateTaken=t.photo.dateTaken.content,o.takenGranularity=t.photo.dateTakenGranularity.content)):(n.datePosted&&(o.datePosted=n.datePosted),n.dateTaken&&(o.dateTaken=n.dateTaken),n.takenGranularity&&(o.takenGranularity=n.takenGranularity)),Object.keys(o).length>0&&i.setValues(n.photoId,o)}},function(e){throw n.fullResponse&&(e.photoIds=n.photoId),e}).then(null,e.FetcherErrorLogger(t))}e.namespace("ModelUpdaters")["flickr-photos-setDates"]={run:n}},"@VERSION@",{requires:["flickr-promise"],optional:[]});
YUI.add("photo-stats-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:function(t,n){var r={photoId:t},i=!0;return n.datePosted&&(r.datePosted=n.datePosted.newVal,i=!1),n.dateTaken&&(r.dateTaken=n.dateTaken.newVal,i=!1),n.takenGranularity&&(r.takenGranularity=n.takenGranularity.newVal,i=!1),i?e.Promise.resolve():e.ModelUpdaters["flickr-photos-setDates"].run(r,this.appContext)},batchUpdate:function(t,n){return"postedDate"in n&&"takenDate"in n?e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,datePosted:n.postedDate,dateTaken:n.takenDate,takenGranularity:n.takenGranularity,fullResponse:1},this.appContext):"postedDate"in n?e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,datePosted:n.postedDate,fullResponse:1},this.appContext):e.ModelUpdaters["flickr-photos-setDates"].run({photoId:t,dateTaken:n.takenDate,takenGranularity:n.takenGranularity,fullResponse:1},this.appContext)}},attributes:{dateTaken:{},datePosted:{},takenGranularity:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){t=e.AttributeHelpers.coerceInteger(t);if(t<0||t>10)t=undefined;return t},defaultValue:0},isDateTakenUnknown:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return t=e.AttributeHelpers.coerceBoolean(t),t},defaultValue:!1},isCirca:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===8}},isSometime:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===6}}},getDateObj:function(t,n){var r;if(n!=="dateTaken"&&n!=="datePosted")throw new Error(this.intlMessage({intlName:"models.BAD_DATE_TYPE"}));var i={},s=this.getValue(t,n),o=this.getValue(t,"takenGranularity");return s?(n==="dateTaken"?o===8?i={granularity:o,year:s.replace(/^([\d]+)(.*)/g,"$1"),monthName:this.intlMessage({intlName:"common.CIRCA"})}:o===6?(s=e.moment(s),i={granularity:o,year:s.format("YYYY"),monthName:this.intlMessage({intlName:"common.SOMETIME_IN"})}):o===4?(s=e.moment(s),i={granularity:o,year:s.format("YYYY"),month:s.format("M"),monthName:s.format("MMMM")}):(s=e.moment(s),i={granularity:o,year:s.format("YYYY"),month:s.format("M"),monthName:s.format("MMMM"),day:s.format("D"),hour:s.format("HH"),minute:s.format("mm"),second:s.format("ss")}):(s=e.moment(s,"X"),r=this.appContext.getViewer().prefs.timezonePref,r.isDefaults||s.utcOffset(r.offset),i={granularity:o,year:s.format("YYYY"),month:s.format("M"),monthName:s.format("MMMM"),day:s.format("D"),hour:s.format("HH"),minute:s.format("mm"),second:s.format("ss")},r.isDefaults||(i.tzOffset=r.offset)),i):{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","attribute-helpers","flickr-photos-setDates-updater","moment"],langBundles:["models","common"]});
YUI.add("hermes-lang-common",function(e,t){e.Intl.add("hermes/common","en-US",{SIGN_UP:["Sign Up"],YOU:["You"],PHOTOSTREAM:["Photostream"],SETS:["Sets"],ALBUMS:["Albums"],MAP:["Map"],FAVORITES:["Favorites"],GALLERIES:["Galleries"],COLLECTIONS:["Collections"],ARCHIVES:["Archives"],TAGS:["Tags"],PHOTOS_OF:["Photos of"],PROFILE:["Profile"],POPULAR:["Popular"],EXPLORE:["Explore"],ACTIVITY:["Recent activity"],STATS:["Stats"],ORGANIZE:["Organize"],HELP:["Help"],SETTINGS:["Settings"],SIGN_OUT:["Sign Out"],FLICKRMAIL:["FlickrMail"],ERROR:["Error"],OK:["OK"],OOPS:["Oops!"],SIGN_IN:["Sign in"],FORGET_IT:["Forget it"],WARNING:["Warning"],DONE:["Done"],ZOINKS:["Zoinks!"],CANCEL:["Cancel"],ON:["On"],OFF:["Off"],ABOUT:["About"],JOBS:["Jobs"],BLOG:["Blog"],APPS:["Apps"],BRAND:["Brand"],DEVELOPERS:["Developers"],STATUS:["Status"],COMMUNITY_GUIDELINES:["Community guidelines"],REPORT_ABUSE:["Report abuse"],PRIVACY:["Privacy"],TERMS:["Terms"],YAHOO_SAFELY:["Yahoo Safely"],FEEDBACK:["Feedback"],MOBILE:["Mobile"],APP_GARDEN:["App Garden"],COMMUNITY:["Community"],API_DOC:["API Doc"],DEVELOPER_GUIDE:["Developer Guide"],DEVELOPER_BLOG:["Developer Blog"],HELP_FORUM:["Help forum"],GUIDELINES:["Guidelines"],NUMBER:[{type:"number",valueName:"num"}],RETRY:["Retry"],EDIT:["Edit"],MORE:["More"],DELETE:["Delete"],LOADING:["Loading"],FOLLOW:["Follow"],FOLLOWING:["Following"],UNFOLLOW:["Unfollow"],FRIEND:["Friend"],FAMILY:["Family"],A_YAHOO_COMPANY:["Flickr, a Yahoo company"],A_YAHOO_COMPANY_WITH_LINK:['Flickr, <a href="https://info.yahoo.com">a Yahoo company</a>'],CONFIRMATION:["Confirmation"],FAVORITE:["Favorite"],SEARCH:["Search"],CONFIRM:["Confirm"],SELECT:["Select"],NEW:["New"],LOADING_WITH_ELLIPSES:["Loading..."],NONE:["None"],TITLE:["Title"],DESCRIPTION:["Description"],DECLINE:["Decline"],ACCEPT:["Accept"],CIRCA:["Circa"],SOMETIME_IN:["Sometime in..."],JANUARY:["January"],FEBRUARY:["February"],MARCH:["March"],APRIL:["April"],MAY:["May"],JUNE:["June"],JULY:["July"],AUGUST:["August"],SEPTEMBER:["September"],OCTOBER:["October"],NOVEMBER:["November"],DECEMBER:["December"],SAVE:["Save"],PLEASE_TRY_AGAIN:["Please try again"],YES:["Yes"],SQUARE:["Square"],THUMBNAIL:["Thumbnail"],SMALL:["Small"],MEDIUM:["Medium"],LARGE:["Large"],ORIGINAL:["Original"],REPLACE:["Replace"],SAVING:["Saving"],REPLACING:["Replacing"],JOIN:["Join"],SELECTED:["selected"],PREVIEW:["Preview"],DATE_TAKEN:["Date Taken"],DATE_POSTED:["Date Posted"],PEOPLE:["People"],BETA:["Beta"],INVALID_DATE:["Invalid Date."],INVALID_DATE_TAKEN:["Invalid Date Taken."],INVALID_DATE_POSTED:["Invalid Date Posted."],FUTURE_DATE_POSTED:["Date Posted is set to the future."],INVALID_DATE_VALUE:["One or more of the dates you entered was invalid."],INVALID_DATE_TAKEN_VALUE:["Date Taken value is invalid."],INVALID_DATE_POSTED_VALUE:["Date Posted value is invalid."],DOWNLOAD:["Download"],CHOOSE_VALID_DATE:["Please choose a valid date."],FUTURE_DATE_TAKEN:["Date Taken is set to the future."],BY_USER:["by ","${user}"],PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC:["There was a problem uploading your photo. Please try again."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE:["Looks like this photo has an invalid file type. Upload a photo that is either a PNG or JPG."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE:["Looks like this photo is too large to upload. The largest photo size we can upload is 250 MB."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT:["Select only one photo to upload."],PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY:['Looks like this photo doesn\'t meet the minimum requirements to get printed. Please choose a photo that\'s at least 975 &times; 825 pixels. Learn more about <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">requirements</a> for print products.'],PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE:['Sorry, we cannot print photos with a CMYK or ProPhoto RGB colorspace. We recommend photos with an sRGB color space. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">Learn more</a>.'],PHOTO_SELECTOR_BACK_TO_ALBUM_LIST:["Back to album list"],PHOTO_SELECTOR_BACK_TO_CATEGORY_LIST:["Back to category list"],PHOTO_SELECTOR_BACK_TO_SEARCH_LIST:["Back to search list"],MARKETPLACE:["Marketplace"],USERS_FAVES:["${who}","\u2019s favorites"],USERS_ALBUMS:["${who}","\u2019s albums"],LOAD_MORE_RESULTS:["Load more results"],CREATE_AN_ACCOUNT:["Create an account"],SIGN_IN_MESSAGE:["Sign in to Flickr using your Yahoo account to get started."]})},"@VERSION@",{requires:["intl"]});
YUI.add("flickr-groups-pools-getContext-fetcher",function(e,t){"use strict";function n(t){var n={photo_id:t.photoId,extras:e.APIHelper.request.getRebootPhotoExtras()+",datecreate",num_prev:t.numNext,num_next:t.numPrev,get_group_info:1};if(t.id)n.group_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return n}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=[],l=[],c=s.proxy(n.photoId),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,l=e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),f=e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),g=i.getValue(n.id,"photoContextList"),v=g.hasMinBoundary?g.hasMinBoundary():!1,m=g.hasMaxBoundary?g.hasMaxBoundary():!1,d=g.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:c,next:l,prev:f.reverse(),current:d,hasMin:v,hasMax:m,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:l,previous:f.reverse()}}function i(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.pools.getContext",this._processParams(n),!0),r.getModelRegistry("group-pool-models"),r.getModelRegistry("photo-models"),r.getModelRegistry("person-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models")]).then(function(e){return i._processResponse(e,n)},function(e){throw e.code===2&&e.message==="Photo not in pool"&&(e.notInContext=!0),e}).then(null,e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getContext"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","photo-engagement-models","photo-stats-models","group-models"]});
YUI.add("flickr-groups-pools-add-creator",function(e,t){"use strict";function n(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function r(e,t){var n=e.apiResponse,r=e.groupPoolModel,i=e.photoModel,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModel;if(n.stat==="ok")return r&&!r.hasPhoto(i.getValue("id"))&&(r.addPhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")+1)),u&&u.hasPhoto(i.getValue("id"))&&u.addPhotoLocal(i),s.exists(t.photoID)&&!s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.getValue(t.photoID,"groups").prependToList(r),s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")+1)),o.exists(t.photoID)&&!o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")+1),o.getValue(t.photoID,"contexts").appendToList(r)),r}function i(n,r){var i=this,s=this._processParams(n),o=n.registryName||"group-pool-models",u={apiResponse:r.callAPI("flickr.groups.pools.add",s),groupPoolModel:r.getModel(o,n.groupID),photoModel:r.getModel("photo-models",n.photoID),photoGroupsModelRegistry:r.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:r.getModelRegistry("photo-contexts-models")};return n.unfilteredGroupId=s.group_id,o!=="group-pool-models"&&(u.unfilteredGroupPoolModel=r.getModel("group-pool-models",n.unfilteredGroupId)),(new e.FlickrPromise(u)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-groups-pools-add"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-pools-remove-deletor",function(e,t){"use strict";function n(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function r(e,t){var n=e.apiResponse,r=e.groupPoolModelRegistry,i=e.photoModelRegistry,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModelRegistry;if(n.stat==="ok")return o.exists(t.photoID)&&o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")-1),o.getValue(t.photoID,"contexts").removeFromList(t.unfilteredGroupId)),s.exists(t.photoID)&&s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")-1),s.getValue(t.photoID,"groups").removeFromList(t.unfilteredGroupId)),r&&(r.hasPhoto(i.getValue("id"))&&r.removePhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")-1)),u&&u.hasPhoto(i.getValue("id"))&&u.removePhotoLocal(i),r}function i(n,r){var i=this,s=this._processParams(n),o=n.registryName||"group-pool-models",u={apiResponse:r.callAPI("flickr.groups.pools.remove",s),groupPoolModelRegistry:r.getModel(o,n.groupID),photoModelRegistry:r.getModel("photo-models",n.photoID),photoGroupsModelRegistry:r.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:r.getModelRegistry("photo-contexts-models")};return n.unfilteredGroupId=s.group_id,o!=="group-pool-models"&&(u.unfilteredGroupPoolModelRegistry=r.getModel("group-pool-models",n.unfilteredGroupId)),(new e.FlickrPromise(u)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-groups-pools-remove"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-invite-creator",function(e,t){"use strict";function n(n,r){var i={},s=e.Models["group-pool-models"].extractGroupFromCompoundId(n.groupID);return i.photo_id=n.photoID,i.group_id=s,e.Promise.all([r.callAPI("flickr.groups.invite.photo.invite",i),r.getModel("group-pool-models",s),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models")]).then(function(e){var t=e[0],i=e[1],o=e[2],u=e[3],a,f,l;if(t.stat==="ok")return a=[n.photoID,s].join("-"),f={id:a,photoId:n.photoID,groupId:s,invitedBy:r.getViewer().nsid},l=o.exists(a)?o.proxy(a):o.add(f),u.exists(n.photoID)&&!u.getValue(n.photoID,"invitations").getFromListByID(a)&&(u.getValue(n.photoID,"groups").prependToList(i),u.getValue(n.photoID,"invitations").prependToList(l),u.setValue(n.photoID,"total",u.getValue(n.photoID,"total")+1)),i},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-groups-invite-photo-invite"]={run:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-cancel-deletor",function(e,t){"use strict";function n(n,r){var i={},s=e.Models["group-pool-models"].extractGroupFromCompoundId(n.groupID);return i.photo_id=n.photoID,i.group_id=s,e.Promise.all([r.callAPI("flickr.groups.invite.photo.cancel",i),r.getModel("group-pool-models",s),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models")]).then(function(e){var t=e[0],r=e[1],i=e[2],o=e[3],u;if(t.stat==="ok")return u=[n.photoID,s].join("-"),o.exists(n.photoID)&&o.getValue(n.photoID,"invitations").getFromListByID(u)&&(o.setValue(n.photoID,"total",o.getValue(n.photoID,"total")-1),o.getValue(n.photoID,"groups").removeFromList(s),o.getValue(n.photoID,"invitations").removeFromList(u)),i.remove(u),r},e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-groups-invite-photo-cancel"]={run:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("group-pool-by-person-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:e.merge(e.Models["group-pool-models"].prototype.attributes,{personFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}})})},"@VERSION@",{requires:["attribute-helpers","group-pool-models","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor"]});
YUI.add("group-pool-by-tag-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:{tagFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}}})},"@VERSION@",{requires:["attribute-helpers"]});
YUI.add("flickr-groups-pools-getPhotos-fetcher",function(e,t){"use strict";function n(t){var n={extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras(),per_page:t.perPage||20,page:t.page||1,get_group_info:1};if(t.id)n.group_id=e.Models["group-pool-models"].extractGroupFromCompoundId(t.id);else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return t.withPhotoId&&(n.jump_to=t.withPhotoId),t.privacyFilter&&(n.privacy_filter=t.privacyFilter),t.safeSearch&&(n.safe_search=t.safeSearch),t.media&&(n.media=t.media),t.personFilter&&(n.user_id=t.personFilter),t.tagFilter&&(n.tags=t.tagFilter),n}function r(t,n){var r=t.apiResponse,i=t.photoModelRegistry,s=t.personModelRegistry,o=t.groupPoolModelRegistry,u=t.groupPoolByPersonModelRegistry,a=t.groupPoolByTagModelRegistry,f=t.photoEngagementModelRegistry,l=t.photoStatsModelRegistry,c=t.groupModelRegistry,h,p,d,v;return r.group.pathAlias=r.group.pathalias===""?null:r.group.pathalias,h=c.parseGroupModel(r.group.nsid,r.group.pathAlias,r.group),c.exists(h.id)||c.add(h),p={pathAlias:r.group.pathAlias,group:c.proxy(h.id),filteredPoolCount:r.group.poolCount},d=e.APIHelper.response.parsePhotos({photos:r.photos.photo,personModelRegistry:s,photoModelRegistry:i,photoEngagementModelRegistry:f,photoStatsModelRegistry:l}),p.photoPageList={perPage:r.photos.perpage,page:r.photos.page,pageContent:d,totalItems:p.filteredPoolCount},n.personFilter?(p.id=e.Models["group-pool-models"].buildCompoundId(r.group.nsid,n.personFilter),p.personFilter=n.personFilter,p.filteredPoolCount=r.photos.total,v=u):n.tagFilter?(p.id=e.Models["group-pool-models"].buildCompoundId(r.group.nsid,n.tagFilter),p.tagFilter=n.tagFilter,p.filteredPoolCount=r.photos.total,v=a):(n.id&&n.id!==r.group.nsid?p.id=n.id:p.id=r.group.nsid,v=o),v.exists(p.id)?(v.setValue(p.id,"photoPageList",p.photoPageList),v.setValue(p.id,"group",p.group),v.setValue(p.id,"filteredPoolCount",parseInt(p.filteredPoolCount,10)||0),p.group.setValue("poolCount",parseInt(r.group.poolCount,10)||0)):v.add(p),d}function i(n,r){var i=this,s=this._processParams(n),o={apiResponse:r.callAPI("flickr.groups.pools.getPhotos",s,!0),photoModelRegistry:r.getModelRegistry("photo-models"),personModelRegistry:r.getModelRegistry("person-models"),groupPoolModelRegistry:r.getModelRegistry("group-pool-models"),photoEngagementModelRegistry:r.getModelRegistry("photo-engagement-models"),photoStatsModelRegistry:r.getModelRegistry("photo-stats-models"),groupModelRegistry:r.getModelRegistry("group-models")};return n.personFilter&&(o.groupPoolByPersonModelRegistry=r.getModelRegistry("group-pool-by-person-models")),n.tagFilter&&(o.groupPoolByTagModelRegistry=r.getModelRegistry("group-pool-by-tag-models")),(new e.FlickrPromise(o)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getPhotos"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","person-models","photo-engagement-models","photo-stats-models","group-models","group-pool-models","group-pool-by-person-models","group-pool-by-tag-models"]});
YUI.add("group-contributor-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{nsid:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},dateJoined:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},groupDiscussionCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},groupPhotoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},rank:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},realname:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},username:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoId:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoTitle:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},avatarUrl:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoUrl:{readOnly:!0,derivedBy:["contributorUrl","latestPhotoId"],getter:function(e,t){return this.getValue(t,"latestPhotoId")?this.getValue(t,"contributorUrl")+this.getValue(t,"latestPhotoId")+"/":!1}},displayname:{readOnly:!0,derivedBy:["username"],getter:function(e,t){return this.getValue(t,"username")}},contributorUrl:{readOnly:!0,derivedBy:["id","pathAlias"],getter:function(e,t){return"/photos/"+(this.getValue(t,"pathAlias")||this.getValue(t,"nsid"))+"/"}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","attribute-helpers"]});
YUI.add("flickr-groups-getTopContributors-fetcher",function(e,t){"use strict";function n(e){var t={group_id:e.id,type:"all",extras:"include_viewer"};return t}function r(e,t){var n=e[0],r=e[1],s=e[2],o,u={photoContributors:[],discussionContributors:[]},a;return n&&n.contributors&&[{k:"photos",v:"photoContributors"},{k:"discussions",v:"discussionContributors"}].forEach(function(e){n.contributors[e.k]&&(u.id=t.id,o=n.contributors[e.k],o.contributor&&o.contributor.forEach(function(n){a=i(n,t.id),s.exists(a.id)||s.add(a),u[e.v].push(s.proxy(a.id))}))}),n&&n.viewer&&n.viewer.length!==0?(a=i(n.viewer,t.id),s.exists(a.id)||s.add(a),u.viewer=s.proxy(a.id)):u.viewer=null,r.exists(u.id)||r.add(u),r.proxy(u.id)}function i(t,n){var r={id:t.id+"-"+n,nsid:t.id,dateJoined:t.dateJoined?e.moment(t.dateJoined.toString(),"X"):e.moment(),groupDiscussionCount:t.groupDiscussionCount,groupPhotoCount:t.groupPhotoCount,pathAlias:t.pathAlias,rank:t.rank,realname:t.realname,username:t.username,avatarUrl:e.URLHelper.getBuddyIconURL(t.id,t.iconfarm,t.iconserver)};return t.latestPhoto&&(r.latestPhotoId=t.latestPhoto.id,r.latestPhotoTitle=t.latestPhoto.name),r}function s(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.getTopContributors",this._processParams(n),!0),r.getModelRegistry("group-top-contributors-models"),r.getModelRegistry("group-contributor-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-getTopContributors"]={run:s,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper","moment","url-helper"],optional:["group-top-contributors-models","group-contributor-models"]});
YUI.add("group-top-contributors-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){var n=this;return e.ModelFetchers["flickr-groups-getTopContributors"].run(t,this.appContext).then(function(e){return n})}},attributes:{viewer:{isModel:!0,defaultValue:null},contributors:{isCollection:!0},photoContributors:{isCollection:!0},discussionContributors:{isCollection:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-getTopContributors-fetcher","attribute-helpers"]});
YUI.add("group-pool-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-groups-pools-getPhotos"].run(t,this.appContext)},addPhoto:function(t,n){return t.registryName=this.name,e.ModelCreators["flickr-groups-pools-add"].run(t,n)},removePhoto:function(t,n){return t.registryName=this.name,e.ModelDeletors["flickr-groups-pools-remove"].run(t,n)},invitePhoto:function(t,n){return e.ModelCreators["flickr-groups-invite-photo-invite"].run(t,n)},cancelPhotoInvitation:function(t,n){return e.ModelDeletors["flickr-groups-invite-photo-cancel"].run(t,n)}},addPhotoLocal:function(e,t){return this.getValue(e,"photoPageList").unshift(t),this.getValue(e,"photoContextList").hasMaxBoundary()&&this.getValue(e,"photoContextList").appendToList(t),this},addPhotoRemote:function(e,t){return this.remote.addPhoto.call(this,{photoID:t,groupID:e},this.appContext)},removePhotoLocal:function(e,t){return this.getValue(e,"photoPageList").removeFromList(t.getValue("id")),this.getValue(e,"photoContextList").removeFromList(t.getValue("id")),this},removePhotoRemote:function(e,t){return this.remote.removePhoto.call(this,{photoID:t,groupID:e},this.appContext)},invitePhotoRemote:function(e,t){return this.remote.invitePhoto.call(this,{photoID:t,groupID:e},this.appContext)},cancelPhotoInvitationRemote:function(e,t){return this.remote.cancelPhotoInvitation.call(this,{photoID:t,groupID:e},this.appContext)},hasPhoto:function(e,t){return this.getValue(e,"photoPageList").getFromListByID(t)||this.getValue(e,"photoContextList").getFromListByID(t)},attributes:{displayType:{readOnly:!0,defaultFn:function(){return"group"}},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultFn:function(e){return e}},photoPageList:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getPhotos"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getContext"],listItemIdField:"photoId"}},group:{isModel:!0},urlSuffix:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"pool-"+t}},url:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("url")}},title:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("title")}},poolCount:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("poolCount")}},filteredPoolCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return this.getValue(e,"group").getValue("poolCount")}},friendlyPoolCount:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("friendlyPoolCount")}}}},{buildCompoundId:function(e,t){return e+"-"+t},extractGroupFromCompoundId:function(e){return e.split("-")[0]}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-pools-getContext-fetcher","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor","attribute-helpers"],optional:["group-top-contributors-models"]});
YUI.add("flickr-groups-pools-getGroups-fetcher",function(e,t){"use strict";function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=r.groups,a=n.id,f={},l=[];if(u)return u.group&&e.Array.each(u.group,function(e,t){var n,r,i;e.name&&(e.name=e.name.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")),i=o.parseGroupModel(e.id,e.pathAlias,e),n=o.exists(e.id)?o.proxy(e.id):o.add(i),r=s.exists(e.id)?s.proxy(e.id):s.add({id:e.id,pathAlias:e.pathAlias,group:n}),l.push(r)}),f={id:a,memberCount:r.userGroupMemberships?r.userGroupMemberships.member:null,moderatorCount:r.userGroupMemberships?r.userGroupMemberships.moderator:null,adminCount:r.userGroupMemberships?r.userGroupMemberships.admin:null,invitedCount:r.userGroupMemberships?r.userGroupMemberships.invited:null},f.groups=e.APIHelper.response.addOrReplaceListByPage({current:i.exists(a)?i.proxy(a).getValue("groups").getList():[],perPage:n.perPage,pageNum:n.page,totalItems:r.groups.total,newPages:l}),i.exists(a)?i.setValue(a,"groups",f.groups):i.add(f),f.groups}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.pools.getGroups",{extras:e.APIHelper.request.getRebootGroupExtras()+", icon_urls, needs_interstitial",page:n.page||0,per_page:n.perPage||400},!0),r.getModelRegistry("person-groups-models"),r.getModelRegistry("group-pool-models"),r.getModelRegistry("group-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getGroups"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["person-groups-models","group-models","group-pool-models","person-models"]});
YUI.add("flickr-groups-fave-fetcher",function(e,t){"use strict";function n(e){}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.fave",n),r.getModelRegistry("person-groups-models")]).then(i._processResponse,e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-fave"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","flickr-promise"],optional:["person-groups-models","api-helper"]});
